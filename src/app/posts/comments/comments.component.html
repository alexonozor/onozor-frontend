<div  *ngFor="let comment of comments" [attr.id]="'comment-' + comment?.id" >
  <nz-divider></nz-divider>
  <div nz-row class="card-user-info">
    <div nz-col nzSpan="1"></div>
    <div nz-col nzSpan="2">
      <nz-avatar nzIcon="anticon anticon-user" [nzSrc]="comment?.user?.avatar?.thumb?.url"></nz-avatar>
    </div>
    <div nz-col nzXl="8">
      <a>
        <p class="card-user-name">{{comment?.user?.full_name}}</p>
      </a>
      <span><small>Replied at {{comment?.created_at | amTimeAgo}}</small></span>
    </div>
    <div nz-col nzXl="13">
        <!-- <small class="question-date">{{comment?.created_at | amTimeAgo}}</small> -->
      </div>
  </div>

  
  <div nz-row class="card-user-info" >
    <div nz-col nzSpan="3"></div>
    <div nz-col nzXl="19" style="display: none" [attr.id]="'comment-form-' + comment?.id">
      <div class="comment-answer-form" *ngIf="comment?.id">
          <form nz-form [formGroup]="commentUpdateForm" class="login-form" (ngSubmit)="updateCommentForm(comment)">
            <textarea row="3" formControlName="body" [value]="comment?.body" placeholder="Update Comment" nz-input></textarea>
            <button class="answer-form-action-button" [nzLoading]="isSubmited" nz-button nzType="primary">Reply</button>
          </form>
        </div>
    </div>
    <div [attr.id]="'comment-body-' + comment?.id" nz-col nzXl="19" *ngIf="!editing">
      <span [attr.id]="'comment-form-body' + comment?.id">{{comment?.body}}</span>
      <div nz-row nzGutter="48" class="post-action-bar">
        <div nz-col nzSpan="20">
          <button nz-button class="remove-border" nzType="primary" [nzSize]="large">
          <i class="anticon anticon-like"></i> Like</button>
          <button nz-button class="remove-border" nzType="default" [nzSize]="large" (click)="editComment(editing, comment?.id, i, this)"> Edit</button>
          <button nz-button class="remove-border" (click)="deleteComment(comment.id)" nzType="default" [nzSize]="large">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
<small *ngIf="pageMeta.next_page && !loadingComments"><nz-divider (click)="loadMoreComments(pageMeta.next_page)" nzText="show more comments"></nz-divider></small>
<span *ngIf="pageMeta.next_page && loadingComments" style="text-align: center">
    <ng-template #indicatorTemplate><i class="anticon anticon-spin anticon-loading" style="font-size: 24px;"></i>
    </ng-template>
    <nz-spin [nzIndicator]="indicatorTemplate"></nz-spin>
  </span>
